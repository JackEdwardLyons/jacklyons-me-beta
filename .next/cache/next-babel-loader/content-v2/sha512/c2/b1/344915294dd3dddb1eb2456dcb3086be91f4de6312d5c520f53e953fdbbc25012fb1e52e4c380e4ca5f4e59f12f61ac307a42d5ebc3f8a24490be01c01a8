{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport _ from 'lodash';\nimport { Link, withPrefix } from '../utils';\nimport PortfolioItem from './PortfolioItem';\nexport default class PortfolioSection extends React.Component {\n  renderProject(project, index, projectCount, viewAllLabel, viewAllUrl) {\n    if (index === projectCount - 1 && viewAllLabel && viewAllUrl) {\n      const thumbImage = _.get(project, 'thumb_image');\n\n      const thumbImageAlt = _.get(project, 'thumb_image_alt', '');\n\n      return /*#__PURE__*/_jsx(\"article\", {\n        className: \"cell project-card\",\n        children: /*#__PURE__*/_jsxs(Link, {\n          href: withPrefix(viewAllUrl),\n          className: \"project-card__view-all\",\n          children: [thumbImage && /*#__PURE__*/_jsx(\"div\", {\n            className: \"project-card__image\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: withPrefix(thumbImage),\n              alt: thumbImageAlt\n            })\n          }), /*#__PURE__*/_jsx(\"span\", {\n            className: \"project-card__button\",\n            children: viewAllLabel\n          })]\n        })\n      }, index);\n    } else {\n      return /*#__PURE__*/_jsx(PortfolioItem, {\n        project: project\n      }, index);\n    }\n  }\n\n  render() {\n    const section = _.get(this.props, 'section');\n\n    const sectionId = _.get(section, 'section_id');\n\n    const title = _.get(section, 'title');\n\n    const subtitle = _.get(section, 'subtitle');\n\n    const layoutStyle = _.get(section, 'layout_style', 'mosaic');\n\n    const viewAllLabel = _.get(section, 'view_all_label');\n\n    const viewAllUrl = _.get(section, 'view_all_url');\n\n    const projects = _.orderBy(_.get(this.props, 'projects', []), 'date', 'desc');\n\n    const projectCount = _.size(projects);\n\n    return /*#__PURE__*/_jsx(\"section\", {\n      id: sectionId,\n      className: \"section section--portfolio\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"container container--lg\",\n        children: [title && /*#__PURE__*/_jsx(\"h2\", {\n          className: \"section__title line-top\",\n          children: title\n        }), subtitle && /*#__PURE__*/_jsx(\"p\", {\n          className: \"section__subtitle\",\n          children: subtitle\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: `grid portfolio-feed portfolio-feed--${layoutStyle}`,\n          children: _.map(projects, (project, index) => this.renderProject(project, index, projectCount, viewAllLabel, viewAllUrl))\n        })]\n      })\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}